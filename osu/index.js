(function(n,r){"use strict";let u;const a=new Map;var c={onLoad:function(){u=r.registerCommand({name:"osu",displayName:"Osu!",displayDescription:"Check your osu! stats",description:"check your osu! stats",options:[{name:"user",description:"name or id of the user",type:3,required:!0,displayName:"User",displayDescription:"Name or Id of the user"}],execute:l,applicationId:"-1",inputType:1,type:1})},onUnload:function(){u()}};async function i(e){if(!a.has(e.username)||a.get(e.username).lastFetch+1e3*60*60*24<Date.now()){const s=await fetch(`https://api.obamabot.me/v2/text/osu?user=${e}`),o=await s.json(),t=s.status===200||s.status===401?{user:o,lastFetch:Date.now()}:(a.delete(e),{user:o,lastFetch:Date.now()});a.set(e,t)}return a.get(e).user}async function l(e,s){const o=e[0].value,t=await i(o);return t.error?{content:t.error}:{content:[`__${t.username}'s Stats__`,`Global Rank: **${t.custom.pp_rank}** (:flag_${t.country_code.toLowerCase()}: #${t.custom.pp_country_rank})`,`PP: **${t.custom.pp_raw}**`,`Play Count: **${t.custom.playcount}**`,`Accuracy: **${t.custom.hit_accuracy}%**`,`Time Played: **${t.custom.time_played}**`,`Play Styles: **${t.custom.playstyles}**`].join(`
`)}}return n.default=c,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.commands);
